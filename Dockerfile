FROM openjdk:11-buster

ARG SBT_VERSION=1.5.5

# Install sbt
RUN \
  curl -fsL "https://github.com/sbt/sbt/releases/download/v$SBT_VERSION/sbt-$SBT_VERSION.tgz" | tar xfz - -C /usr/share && \
  chown -R root:root /usr/share/sbt && \
  chmod -R 755 /usr/share/sbt && \
  ln -s /usr/share/sbt/bin/sbt /usr/local/bin/sbt

WORKDIR /usr/src/app
COPY . .
RUN sbt compile

EXPOSE 9000
CMD sbt run